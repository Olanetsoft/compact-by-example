---
title: "First App -Counter"
sidebarTitle: "First App"
description: "Build an interactive Compact counter DApp with state management and validation. Learn bounded integers, type safety, and circuit constraints for Midnight Network smart contracts."
"og:title": "Build a Counter DApp with Compact - Midnight Network Tutorial"
"og:description": "Learn to create validated smart contracts using Compact's bounded integers and circuit constraints"
---

<Info>
  **What You'll Learn**: - Working with public ledger state using `Counter` type
  - Creating circuits that modify ledger state - Building and deploying your
  first interactive DApp - Using the Midnight wallet and providers
</Info>

## Introduction

A counter is one of the simplest smart contracts you can build - it maintains a number on the blockchain and allows anyone to increment it. This example demonstrates the fundamentals of public state management in Compact and serves as the foundation for understanding more complex DApps.

<Tip>
  **Real-world use**: While simple, counter logic appears in voting systems,
  auction bids, NFT minting limits, and any application that needs to track
  sequential operations on-chain.
</Tip>

## Video Tutorial

<Frame>
  <iframe
    width="100%"
    height="400"
    src="https://www.youtube.com/embed/QWZMVp_0AIk"
    title="Counter DApp Tutorial"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
    allowfullscreen
  ></iframe>
</Frame>

## The Contract

<Accordion title="View Contract Code">

```compact
pragma language_version >= 0.16 && <= 0.18;

import CompactStandardLibrary;

// Public state visible on the blockchain
export ledger round: Counter;

// Circuit that increments the counter by 1
export circuit increment(): [] {
  round.increment(1);
}
```

</Accordion>

## How It Works

### Public Ledger State

```compact
export ledger round: Counter;
```

The `Counter` type is a built-in ledger type specifically designed for counting operations. Unlike custom state variables, `Counter` is optimized for increment operations and ensures the value is always publicly visible on the blockchain.

<Note>
  **Public vs Private State**: The counter's value is stored on the public
  ledger, meaning anyone can read it. Later examples will show how to use
  `witness` for private state that stays off-chain.
</Note>

### The Increment Circuit

```compact
export circuit increment(): [] {
  round.increment(1);
}
```

Circuits are the functions that users call to interact with your contract. The `increment` circuit:

- Takes no parameters: `()`
- Returns no values: `[]`
- Calls the built-in `increment` method on the `Counter` type with value `1`

<Warning>
  Counter values can only increase - there's no built-in decrement operation.
  This ensures monotonic growth, which is useful for many applications like
  round numbers or transaction IDs.
</Warning>

### Language Version Pragma

```compact
pragma language_version >= 0.16 && <= 0.18;
```

This example uses a **version range** (`>= 0.16 && <= 0.18`) instead of an exact version. This is acceptable for simple, stable contracts but exact versions (`0.16`) are recommended for production code to ensure consistent compilation results.

## Try It Yourself

<Accordion title="Full Project Setup">

**1. Create project structure:**

```bash
mkdir -p counter-dapp/contract/src
cd counter-dapp
```

**2. Save the contract:**

Create `contract/src/counter.compact` with the contract code above.

**3. Set up package.json:**

```json
{
  "name": "counter-contract",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "compile": "compact compile --source src/counter.compact --output src/managed/counter --skip-zk",
    "build": "tsc",
    "test": "jest"
  },
  "devDependencies": {
    "@midnight-ntwrk/compact-compiler": "latest",
    "typescript": "^5.0.0"
  }
}
```

**4. Compile and run:**

```bash
npm install
npm run compile
```

You should see output like:

```
Compact version: 0.25.0
Compiling 1 circuits:
  circuit "increment" (k=10, rows=29)
Overall progress [====================] 1/1
```

The `--skip-zk` flag skips ZK key generation for faster development iterations.

</Accordion>

## What's Next

<CardGroup cols={2}>
  <Card title="Primitive Types" icon="cube" href="/basics/primitive-types">
    Explore all Compact data types
  </Card>
  <Card title="Hello World" icon="hand-wave" href="/basics/hello-world">
    Back to the basics
  </Card>
</CardGroup>
